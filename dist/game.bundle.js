(()=>{"use strict";const c=function(c,a){c.sort((function(){return Math.random()-.5}));var t=c.slice(1,a.valueOf()+1),r=function(c,a,t){if(t||2===arguments.length)for(var r,e=0,i=a.length;e<i;e++)!r&&e in a||(r||(r=Array.prototype.slice.call(a,0,e)),r[e]=a[e]);return c.concat(r||Array.prototype.slice.call(a))}([],t,!0),e=t.concat(r);return e.sort((function(){return Math.random()-.5})),e};var a,t,r=document.getElementById("cards-field"),e=document.getElementById("win-window"),i=document.getElementById("loose-window"),d=document.getElementById("header"),n=document.getElementById("minutes"),s=document.getElementById("seconds"),m=0,g={},o=[{imgSrc:"./static/img/cards/card_1.jpg",name:"card_1"},{imgSrc:"./static/img/cards/card_2.jpg",name:"card_2"},{imgSrc:"./static/img/cards/card_3.jpg",name:"card_3"},{imgSrc:"./static/img/cards/card_4.jpg",name:"card_4"},{imgSrc:"./static/img/cards/card_5.jpg",name:"card_5"},{imgSrc:"./static/img/cards/card_6.jpg",name:"card_6"},{imgSrc:"./static/img/cards/card_7.jpg",name:"card_7"},{imgSrc:"./static/img/cards/card_8.jpg",name:"card_8"},{imgSrc:"./static/img/cards/card_9.jpg",name:"card_9"},{imgSrc:"./static/img/cards/card_10.jpg",name:"card_10"},{imgSrc:"./static/img/cards/card_11.jpg",name:"card_11"},{imgSrc:"./static/img/cards/card_12.jpg",name:"card_12"},{imgSrc:"./static/img/cards/card_13.jpg",name:"card_13"},{imgSrc:"./static/img/cards/card_14.jpg",name:"card_14"},{imgSrc:"./static/img/cards/card_15.jpg",name:"card_15"},{imgSrc:"./static/img/cards/card_16.jpg",name:"card_16"},{imgSrc:"./static/img/cards/card_17.jpg",name:"card_17"},{imgSrc:"./static/img/cards/card_18.jpg",name:"card_18"},{imgSrc:"./static/img/cards/card_19.jpg",name:"card_19"},{imgSrc:"./static/img/cards/card_20.jpg",name:"card_20"},{imgSrc:"./static/img/cards/card_21.jpg",name:"card_21"},{imgSrc:"./static/img/cards/card_22.jpg",name:"card_22"},{imgSrc:"./static/img/cards/card_23.jpg",name:"card_23"},{imgSrc:"./static/img/cards/card_24.jpg",name:"card_24"},{imgSrc:"./static/img/cards/card_25.jpg",name:"card_25"},{imgSrc:"./static/img/cards/card_26.jpg",name:"card_26"},{imgSrc:"./static/img/cards/card_27.jpg",name:"card_27"},{imgSrc:"./static/img/cards/card_28.jpg",name:"card_28"},{imgSrc:"./static/img/cards/card_29.jpg",name:"card_29"},{imgSrc:"./static/img/cards/card_30.jpg",name:"card_30"},{imgSrc:"./static/img/cards/card_31.jpg",name:"card_31"},{imgSrc:"./static/img/cards/card_32.jpg",name:"card_32"},{imgSrc:"./static/img/cards/card_33.jpg",name:"card_33"},{imgSrc:"./static/img/cards/card_34.jpg",name:"card_34"},{imgSrc:"./static/img/cards/card_35.jpg",name:"card_35"},{imgSrc:"./static/img/cards/card_36.jpg",name:"card_36"}];function l(c){c.classList.remove("hidden"),d&&(d.style.opacity="0.5"),r&&(r.style.opacity="0.5"),document.querySelectorAll(".popup__time").forEach((function(c){c.textContent="".concat(g.minutes,".").concat(g.seconds)})),clearInterval(g.interval)}function _(){m++;var c=Math.floor(m/60),a=m%60;a<10?(s.textContent="0".concat(a),g.seconds="0".concat(a)):(s.textContent="".concat(a),g.seconds=a),c<10?(n.textContent="0".concat(c),g.minutes="0".concat(c)):(n.textContent="".concat(c),g.minutes=c)}"easy"===(t=localStorage.getItem("level"))&&(a=3),"medium"===t&&(a=6),"hard"===t&&(a=9),9===a&&(null==r||r.classList.add("nine-pairs")),6===a?null==r||r.classList.add("six-pairs"):3===a&&(null==r||r.classList.add("three-pairs")),c(o,a).forEach((function(c){var t=document.createElement("div"),d=document.createElement("img"),n=document.createElement("img");t.classList.add("card"),d.classList.add("face"),n.classList.add("back"),t.setAttribute("name",c.name),null==r||r.appendChild(t),t.appendChild(d),t.appendChild(n),d.src=c.imgSrc,n.src="./static/img/card-suit.jpg",function(c){c.style.pointerEvents="none",c.classList.toggle("flipCard"),setTimeout((function(){c.classList.toggle("flipCard"),c.style.pointerEvents="auto"}),4e3)}(t),t.addEventListener("click",(function(c){t.classList.add("flipCard"),function(c){var t=c.target;null==t||t.classList.add("clicked");var r=document.querySelectorAll(".clicked"),d=document.querySelectorAll(".flipCard");2===r.length&&(r[0].getAttribute("name")===r[1].getAttribute("name")?(setTimeout((function(){d.length===2*a&&l(e),console.log("score")}),1e3),r.forEach((function(c){c.classList.remove("clicked"),c.style.pointerEvents="none"}))):setTimeout((function(){l(i),console.log("loose")}),1e3))}(c)}))})),setTimeout((function(){var c;c=setInterval(_,1e3),g.interval=c}),4e3)})();